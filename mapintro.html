<!doctype html>
<html lang="en">
   <head>
        <title>Map Intro Page</title>
       <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
       <!--<link rel="stylesheet" href="css/mobiletheme33.css"/> -->
       <link rel="stylesheet" href="css/swiftDinerTheme.min.css" />

       <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	   <script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
       <script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3&sensor=false&language=en"></script>
       <script type="text/javascript" src="http://jquery-ui-map.googlecode.com/svn/trunk/ui/min/jquery.ui.map.min.js"></script>
       
       <script src="js/map2.js"></script>
       
       <script type="text/javascript">
	       var nimbeaux = new google.maps.LatLng(30.187111, -92.011720);
	       var zea = new google.maps.LatLng(30.200993, -92.045243);
	       var phone = new google.maps.LatLng(30.211718, -92.021452);
	       var eddies = new google.maps.LatLng(30.162417, -91.992892);
	       var bonefish = new google.maps.LatLng(30.168957, -92.035878);
	       var fatpat = new google.maps.LatLng(30.183944, -92.072806);
	       
	       var nimContent = "<h2>Nimbeaux's</h2>"+ "<p>2011 W Pinhook Rd, Lafayette, LA 70508</p>"  + "<a href=map2.html><h2>Go Here</h2></a>";
       	   var eddieContent = "<h2>Eddie's BBQ</h2>" + "<p>3439 W Pinhook Rd, Lafayette, LA 70508</p>" + "<a href=map2.html><h2>Go Here</h2></a>";
       	   var bonefishContent = "<h2>BoneFish Grill</h2>" + "<p>1912 Kaliste Saloom Rd, Lafayette, LA 70508</p>" + "<a href=map2.html><h2>Go Here</h2></a>";
       	   var zeaContent = "<h2>Zea's</h2>" + "<p>235 Doucet Rd, Lafayette, LA 70503</p>" + "<a href=map2.html><h2>Go Here</h2></a>";
       	   var fatpatContent = "<h2>Fat Pat's Bar and Grill</h2>" + "<p>117 Westmark Blvd, Lafayette, LA 70506</p>" + "<a href=map2.html><h2>Go Here</h2></a>";
       	   
        	var mobileDemo = { 'center': '30.200535, -92.021660', 'zoom': 12 };

                function initialize() {
                	
                	$('#map_canvas').gmap({ 'center': mobileDemo.center, 'zoom': mobileDemo.zoom, 'disableDefaultUI':false });
                    
                    //$('#map_canvas').gmap('addMarker', phoneMarker ).click(function() {
                    //$('#map_canvas').gmap('openInfoWindow', {'content': "My Location"}, this);
                   // });
                    
                   var $marker = $('#map_canvas').gmap('addMarker', {id: 100, 'position': phone, title: "Phone", icon: "http://maps.google.com/mapfiles/ms/icons/purple-dot.png"});
       				$marker.click(function() {
              				$('#map_canvas').gmap('openInfoWindow', {'content': "My Location"}, this);
                 	});

                } // end init function
                
function hideMarkerById(markerId)
{
    $('#map_canvas').gmap('find', 'markers', { }, function(marker) {
        if(marker.id == markerId){marker.setVisible(false);}
    });         
}
                
$( document ).on( 'pageshow', '#map-page',function(event){
  initialize();
  	$("#greenBtn").bind("click",function(){
  		removeMarkers();
		greenMarkers();
	});

	$("#yellowBtn").bind("click",function(){
		
		removeMarkers();
		yellowMarkers();
		
		
	});

	$("#redBtn").bind("click",function(){
		removeMarkers();
		redMarkers();
	});


	$("#allBtn").bind("click",function(){
		removeMarkers();
		greenMarkers();
		yellowMarkers();
		redMarkers();
	});
	
});

function removeMarkers(){
	for(var i = 0; i < 10; i++)
	{
		hideMarkerById(i);
	}
	
}

function greenMarkers(){
	
		//var $marker = $('#map_canvas').gmap('addMarker', {id: 0, 'position': nimbeaux, title: "Nimbeaux", icon: "http://maps.google.com/mapfiles/ms/icons/green-dot.png"});
       			//	$marker.click(function() {
              	////			$('#map_canvas').gmap('openInfoWindow', {'content': nimContent}, this);
                 //	});
                 addMarker(2,nimbeaux, "Nimbeaux", nimContent, "green", "2");
                 addMarker(3,eddies, "Eddie's", eddieContent, "green", "3");
      
    
					
}

function yellowMarkers(){
	
				
                    
                    addMarker(4, bonefish, "Bonefish", bonefishContent, "yellow", "4");
                    
                    
                    
	
}

function redMarkers(){

                    
                    addMarker(1, zea, "Zea's", zeaContent, "red", "1");
                    addMarker(5, fatpat, "Fat Pat's", fatpatContent, "red", "5");
                    
                    
                    
}                  

       	
       	
       	
 function addMarker(id, position, title, content, color,navTo){
 	if(color === "green")
 	{
 		var $marker = $('#map_canvas').gmap('addMarker', {id: id, 'position': position, title: title, icon: "http://maps.google.com/mapfiles/ms/icons/green-dot.png", animation: google.maps.Animation.DROP});
       				$marker.click(function() {
       						localStorage.navTo = navTo;
              				$('#map_canvas').gmap('openInfoWindow', {'content': content}, this);
                 	});
 	}
 	else if(color === "yellow"){
 		var $marker = $('#map_canvas').gmap('addMarker', {id: id, 'position': position, title: title, icon: "http://maps.google.com/mapfiles/ms/icons/yellow-dot.png", animation: google.maps.Animation.DROP});
       				$marker.click(function() {
       						localStorage.navTo = navTo;
              				$('#map_canvas').gmap('openInfoWindow', {'content': content}, this);
                 	});
 	}
 	else if(color === "red"){
 		var $marker = $('#map_canvas').gmap('addMarker', {id: id, 'position': position, title: title, icon: "http://maps.google.com/mapfiles/ms/icons/red-dot.png", animation: google.maps.Animation.DROP});
       				$marker.click(function() {
       						localStorage.navTo = navTo;
              				$('#map_canvas').gmap('openInfoWindow', {'content': content}, this);
                 	});
 	}
 	
 	
 }
       	
       </script>
    </head>
    <body>
        <div data-role="page" id="map-page" data-theme="a">
            <!-- /header -->
            <div data-role="header">
            	<a href="index.html" data-role="button" data-ajax ="false" data-theme="a" data-icon="home" data-iconpos="notext"></a>
                <h1>SwiftDiner</h1>
                <a href="list.html" data-role="button" data-ajax ="false" data-theme="a" data-icon="search" data-iconpos="notext"></a>

                
            </div>
            <!-- /content -->
            <div data-role="content" class="ui-bar-c ui-corner-all ui-shadow" style="padding:1em;">
            	<div data-role="navbar">
					<ul>
						<li><a href="#"id ="greenBtn">Green</a></li>
						<li><a href="#" id="yellowBtn">Yellow</a></li>
						<li><a href="#" id="redBtn">Red</a></li>
						<li><a href="#" id ="allBtn">All</a></li>
						
					</ul>
				</div><!-- /navbar -->
                <div id="map_canvas" style="height:350px;"></div>
            </div>
            
            
            <div data-role="footer" data-theme="a" data-position="fixed">
     			<div data-role="navbar">
					<ul>
						<li><a href="mapintro.html" class="ui-btn-active">Map</a></li>
						<li><a href="favorites.html" data-ajax="false">Favorites</a></li>
						
					</ul>
				</div><!-- /navbar -->
     		</div>


        </div>
        
        <script>

        </script>
    </body>
</html>




